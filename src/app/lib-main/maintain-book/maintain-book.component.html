<div>
    <div>

    <span>Click here to add new entry        </span>
    <button mat-raised-button (click)="addNewBook()">Add New Book</button>
    <br>
    <span> or </span>
    <br>
    <span>Search for an existing book </span>

    <form class="form">
        <mat-form-field appearance="fill" (keyup.enter)="onSearch(book_no,book_title,author)">
          <mat-label>Book no.</mat-label>
          <input type="number"
                 placeholder="Enter Book no."
                 [(ngModel)]="book_no"
                 matInput
                 [formControl]="myControl">
        </mat-form-field>
        <mat-form-field appearance="fill">
            <mat-label>Title</mat-label>
            <input type="text"
                   placeholder="Enter Book title"
                   [(ngModel)]="book_title"
                   matInput
                   [formControl]="myControl">
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Author</mat-label>
            <input type="text"
                   placeholder="Enter author"
                   [(ngModel)]="author"
                   matInput
                   [formControl]="myControl">
          </mat-form-field>
      </form>
      
    </div>
    <mat-toolbar color="primary">
        <mat-toolbar-row>
          <span>Books</span>
          <span class="spacer"></span> 
          <div *ngIf="newEntry">
          <button mat-icon-button (click)="onSave()">
            <mat-icon>save</mat-icon>
          </button>
        </div>
        </mat-toolbar-row>
      </mat-toolbar>
     
      <mat-table [dataSource]="dataSource" class="mat-elevation-z8">
 
        <ng-container matColumnDef="sno" sticky>
          <mat-header-cell *matHeaderCellDef> S.no </mat-header-cell>
          <mat-cell *matCellDef="let element; let i = index;"> {{ i+1 }} </mat-cell>
        </ng-container>
      
 
        <ng-container matColumnDef="bookno">
          <mat-header-cell *matHeaderCellDef>Book No.</mat-header-cell>
          <mat-cell *matCellDef="let element; let i = index;">  
          <mat-form-field floatLabel="never">
            <input matInput placeholder="Book No." [value]="element.book_no" [(ngModel)]="element.book_no">
          </mat-form-field>
        </mat-cell>
        </ng-container>
      
    
        <ng-container matColumnDef="title">
          <mat-header-cell *matHeaderCellDef> Title </mat-header-cell>
          <mat-cell *matCellDef="let element">
          <mat-form-field floatLabel="never">
            <input matInput placeholder="Title" [value]="element.title" [(ngModel)]="element.title">
          </mat-form-field>
        </mat-cell>
        </ng-container>
      
    
        <ng-container matColumnDef="author">
          <mat-header-cell *matHeaderCellDef> Author </mat-header-cell>
          <mat-cell *matCellDef="let element"> 
            <mat-form-field floatLabel="never">
              <input matInput placeholder="Author" [value]="element.author" [(ngModel)]="element.author">
            </mat-form-field>
          </mat-cell>
        </ng-container>

        <ng-container matColumnDef="rate">
            <mat-header-cell *matHeaderCellDef> Rate </mat-header-cell>
            <mat-cell *matCellDef="let element"> 
              <mat-form-field floatLabel="never">
                <input matInput placeholder="Rate" [value]="element.rate" [(ngModel)]="element.rate">
              </mat-form-field>
            </mat-cell>
         </ng-container>
         <ng-container matColumnDef="takenby">
            <mat-header-cell *matHeaderCellDef> Taken By </mat-header-cell>
            <mat-cell *matCellDef="let element"> 
              <mat-form-field floatLabel="never">
                <input matInput placeholder="Taken by" [value]="element.member_no" [(ngModel)]="element.member_no">
              </mat-form-field>
            </mat-cell>
         </ng-container>
         <ng-container matColumnDef="datetaken">
            <mat-header-cell *matHeaderCellDef> Date Taken </mat-header-cell>
            <mat-cell *matCellDef="let element">  
              <mat-form-field floatLabel="never">
                <input matInput [matDatepicker]="picker" placeholder="Date Taken" [value]="element.Date_take" [(ngModel)]="element.Date_take">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
              </mat-form-field>
            </mat-cell>
         </ng-container>
         <ng-container matColumnDef="datedue">
          <mat-header-cell *matHeaderCellDef> Due Date </mat-header-cell>
          <mat-cell *matCellDef="let element"> 
            <mat-form-field floatLabel="never">
              <input matInput [matDatepicker]="picker" placeholder="Due Date" [value]="element.Date_due" [(ngModel)]="element.Date_due">
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
          </mat-cell>
       </ng-container>
         <ng-container matColumnDef="datereturned">
            <mat-header-cell *matHeaderCellDef> Date Returned </mat-header-cell>
            <mat-cell *matCellDef="let element"> 
              <mat-form-field floatLabel="never">
                <input matInput [matDatepicker]="picker" placeholder="Date Returned" [value]="element.Date_return" [(ngModel)]="element.Date_return">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
              </mat-form-field>
            </mat-cell>
         </ng-container>
         <ng-container matColumnDef="star" stickyEnd>
            <th mat-header-cell *matHeaderCellDef></th>
            <td mat-cell *matCellDef="let element">
                <button mat-icon-button (click)="editBook(element)">
                    <mat-icon>edit</mat-icon>
                  </button> 
            </td>
          </ng-container>
      
        <mat-header-row *matHeaderRowDef="displayedColumns_Books"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns_Books;"></mat-row>
      </mat-table>
</div>